<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ゴルフルールクイズ</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body { font-family: system-ui, sans-serif; margin: 0; padding: 1rem; }
    header { background: #16a34a; color: white; padding: 1rem; text-align: center; font-weight: bold; }
    .card { border-radius: 0.5rem; padding: 1rem; background: #ecfdf5; margin-top: 1rem; }
    button { margin-top: 1rem; padding: 0.75rem 1rem; border-radius: 0.5rem; border: none; cursor: pointer; font-size: 1rem; }
    .option { display: block; width: 100%; margin-top: 0.5rem; background: #fef9c3; }
    .correct { color: green; font-weight: bold; }
    .wrong { color: red; font-weight: bold; }
  </style>
</head>
<body>
  <header>🎲 ゴルフルールクイズ</header>
  <div id="root"></div>

  <script type="text/babel">
    const quizData = [
      {
        question: "バンカーでクラブを砂につけていい？",
        options: ["はい", "いいえ"],
        answer: "いいえ"
      },
      {
        question: "OBのときは1打罰？",
        options: ["はい", "いいえ"],
        answer: "はい"
      },
      {
        question: "旗は必ず抜かないといけない？",
        options: ["はい", "いいえ"],
        answer: "いいえ"
      }
    ];

    function QuizApp() {
      const [step, setStep] = React.useState("start");
      const [currentQ, setCurrentQ] = React.useState(null);
      const [selected, setSelected] = React.useState(null);
      const [isCorrect, setIsCorrect] = React.useState(false);

      const startQuiz = () => {
        const random = quizData[Math.floor(Math.random() * quizData.length)];
        setCurrentQ(random);
        setStep("question");
      };

      const checkAnswer = (option) => {
        setSelected(option);
        if (option === currentQ.answer) {
          setIsCorrect(true);
        } else {
          setIsCorrect(false);
        }
        setStep("result");
      };

      const nextQuestion = () => {
        setSelected(null);
        startQuiz();
      };

      if (step === "start") {
        return (
          <div>
            <button onClick={startQuiz}>▶ クイズを始める</button>
          </div>
        );
      }

      if (step === "question") {
        return (
          <div className="card">
            <h2>{currentQ.question}</h2>
            {currentQ.options.map((opt, i) => (
              <button key={i} className="option" onClick={() => checkAnswer(opt)}>
                {opt}
              </button>
            ))}
          </div>
        );
      }

      if (step === "result") {
        return (
          <div className="card">
            {isCorrect ? (
              <p className="correct">🎉 正解！</p>
            ) : (
              <p className="wrong">❌ 不正解…</p>
            )}
            <p>正しい答え: {currentQ.answer}</p>
            <button onClick={nextQuestion}>次の問題へ</button>
            <a href="index.html" style={{ display: "block", marginTop: "1rem", color: "#16a34a" }}>← トップへ戻る</a>
          </div>
        );
      }
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<QuizApp />);
  </script>
</body>
</html>
